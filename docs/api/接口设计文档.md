# ä¸ªäººåšå®¢ç³»ç»Ÿ API æ¥å£è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›®åç§° | ä¸ªäººåšå®¢ç³»ç»Ÿ                    |
| -------- | ------------------------------- |
| æ¥å£ç‰ˆæœ¬ | v1.0                            |
| åŸºç¡€ URL | `http://localhost:8080/api`     |
| æ–‡æ¡£ç‰ˆæœ¬ | v2.0 (Updated based on actual backend) |
| æ›´æ–°æ—¶é—´ | 2024 å¹´                         |

## ğŸ“Š æ¥å£æ¦‚è§ˆ

### API è®¾è®¡è§„èŒƒ

- **RESTful é£æ ¼**: éµå¾ª REST è®¾è®¡åŸåˆ™
- **ç»Ÿä¸€å“åº”æ ¼å¼**: æ‰€æœ‰æ¥å£ä½¿ç”¨ç»Ÿä¸€çš„å“åº”ç»“æ„ (ApiResponse)
- **JWT è®¤è¯**: ä½¿ç”¨ Bearer Token è¿›è¡Œèº«ä»½éªŒè¯ï¼ˆåœ¨éœ€è¦è®¤è¯çš„æ¥å£ä¸­ï¼‰
- **ç‰ˆæœ¬æ§åˆ¶**: å½“å‰æ— ç‰ˆæœ¬å‰ç¼€ï¼Œæœªæ¥å¯æ·»åŠ 
- **é”™è¯¯å¤„ç†**: æ ‡å‡† HTTP çŠ¶æ€ç  + è‡ªå®šä¹‰é”™è¯¯ç 
- **Javadoc**: æ‰€æœ‰åç«¯æ¥å£å‡æœ‰å®Œæ•´ Javadoc æ³¨é‡Šï¼Œç¬¦åˆé˜¿é‡Œå·´å·´å¼€å‘è§„èŒƒ

### åŸºç¡€ URL ç»“æ„

```
http://localhost:8080/api/
```

## ğŸ” è®¤è¯æ–¹å¼

### JWT Token è®¤è¯

```http
Authorization: Bearer <token>
```

### å…¬å¼€æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰

- ç™»å½•ã€æ³¨å†Œç­‰è®¤è¯æ¥å£
- å…¬å¼€æ–‡ç« /åˆ†ç±»/æ ‡ç­¾æŸ¥è¯¢
- è¯„è®ºæŸ¥çœ‹å’Œå‘è¡¨

### ç§æœ‰æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰

- å†…å®¹ç®¡ç†ï¼ˆåˆ›å»º/æ›´æ–°/åˆ é™¤ï¼‰
- æ–‡ä»¶ä¸Šä¼ /ç®¡ç†
- ç³»ç»Ÿé…ç½®
- ç»Ÿè®¡æ•°æ®

## ğŸ“‹ ç»Ÿä¸€å“åº”æ ¼å¼

### æˆåŠŸå“åº”

```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {}, // å…·ä½“æ•°æ®
  "timestamp": "2024-01-01T12:00:00Z"
}
```

### åˆ†é¡µå“åº” (PageResult)

```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "records": [], // æ•°æ®åˆ—è¡¨
    "total": 100, // æ€»è®°å½•æ•°
    "pages": 10, // æ€»é¡µæ•°
    "current": 1, // å½“å‰é¡µ
    "size": 10 // æ¯é¡µå¤§å°
  },
  "timestamp": "2024-01-01T12:00:00Z"
}
```

### é”™è¯¯å“åº”

```json
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯",
  "data": null,
  "errors": ["å­—æ®µéªŒè¯é”™è¯¯è¯¦æƒ…"],
  "timestamp": "2024-01-01T12:00:00Z"
}
```

## ğŸ”‘ 1. ç”¨æˆ·è®¤è¯æ¨¡å— (/api/auth)

### 1.1 ç”¨æˆ·ç™»å½•

```http
POST /api/auth/login
```

**è¯·æ±‚å‚æ•° (JSON Body)ï¼š**

```json
{
  "username": "admin",
  "password": "password",
  "captcha": "abc123",
  "captchaUuid": "uuid-123",
  "deviceInfo": "browser info",
  "clientIp": "192.168.1.1"
}
```

**å“åº”æ•°æ®ï¼š**

```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "jwt-token",
    "refreshToken": "refresh-jwt",
    "user": {
      "id": 1,
      "username": "admin",
      "nickname": "ç®¡ç†å‘˜",
      "email": "admin@example.com",
      "avatar": "https://...",
      "roles": ["admin"],
      "permissions": ["*:*:*"]
    }
  }
}
```

### 1.2 ç”¨æˆ·æ³¨å†Œ

```http
POST /api/auth/register
```

**è¯·æ±‚å‚æ•° (JSON Body)ï¼š**

```json
{
  "username": "newuser",
  "password": "password",
  "email": "email@example.com",
  "nickname": "æ˜µç§°",
  "captcha": "abc123",
  "captchaUuid": "uuid-123",
  "clientIp": "192.168.1.1"
}
```

### 1.3 ç”¨æˆ·ç™»å‡º

```http
POST /api/auth/logout
Authorization: Bearer <token>
```

### 1.4 åˆ·æ–°Token

```http
POST /api/auth/refresh
```

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "refreshToken": "refresh-jwt"
}
```

### 1.5 è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

```http
GET /api/auth/me
Authorization: Bearer <token>
```

### 1.6 å‘é€å¯†ç é‡ç½®é‚®ä»¶

```http
POST /api/auth/forgot-password
```

**è¯·æ±‚å‚æ•°ï¼š**

```
email=user@example.com
```

### 1.7 é‡ç½®å¯†ç 

```http
POST /api/auth/reset-password
```

**è¯·æ±‚å‚æ•°ï¼š**

```
token=reset-token&newPassword=newpass123
```

### 1.8 æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å¯ç”¨

```http
GET /api/auth/check-username?username=testuser
```

### 1.9 æ£€æŸ¥é‚®ç®±æ˜¯å¦å¯ç”¨

```http
GET /api/auth/check-email?email=test@example.com
```

### 1.10 ç”ŸæˆéªŒè¯ç 

```http
GET /api/auth/captcha
```

**å“åº”æ•°æ®ï¼š**

```json
{
  "code": 200,
  "data": {
    "uuid": "captcha-uuid",
    "image": "data:image/png;base64,..."
  }
}
```

## ğŸ“ 2. æ–‡ç« ç®¡ç†æ¨¡å— (/api/articles)

### 2.1 åˆ›å»ºæ–‡ç« 

```http
POST /api/articles
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•° (ArticleCreateVO)ï¼š**

```json
{
  "title": "æ–‡ç« æ ‡é¢˜",
  "content": "# æ–‡ç« å†…å®¹ï¼ˆMarkdownï¼‰",
  "summary": "æ–‡ç« æ‘˜è¦",
  "coverImage": "https://...",
  "categoryId": 1,
  "tagIds": [1, 2, 3],
  "status": 1,
  "isTop": 0,
  "isRecommend": 0,
  "isOriginal": 1,
  "allowComment": 1
}
```

### 2.2 è·å–æ–‡ç« è¯¦æƒ…

```http
GET /api/articles/{id}
```

### 2.3 æ›´æ–°æ–‡ç« 

```http
PUT /api/articles/{id}
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•° (ArticleUpdateVO)ï¼š**

```json
{
  "title": "æ›´æ–°çš„æ ‡é¢˜",
  "content": "æ›´æ–°çš„å†…å®¹",
  "summary": "æ›´æ–°çš„æ‘˜è¦",
  "categoryId": 1,
  "tagIds": [1, 2]
}
```

### 2.4 åˆ é™¤æ–‡ç« 

```http
DELETE /api/articles/{id}
Authorization: Bearer <token>
```

### 2.5 åˆ†é¡µæŸ¥è¯¢æ–‡ç« åˆ—è¡¨

```http
GET /api/articles/page
```

**æŸ¥è¯¢å‚æ•°ï¼š**

```
pageNum=1              // é¡µç ï¼Œé»˜è®¤1
pageSize=10            // æ¯é¡µå¤§å°ï¼Œé»˜è®¤10
keyword=æœç´¢å…³é”®è¯      // æœç´¢å…³é”®è¯ï¼Œå¯é€‰
categoryId=1           // åˆ†ç±»IDï¼Œå¯é€‰
tagId=1               // æ ‡ç­¾IDï¼Œå¯é€‰
status=1              // æ–‡ç« çŠ¶æ€ï¼Œå¯é€‰
isTop=0               // æ˜¯å¦ç½®é¡¶ï¼Œå¯é€‰
```

### 2.6 æ ¹æ®åˆ†ç±»æŸ¥è¯¢æ–‡ç« 

```http
GET /api/articles/category/{categoryId}
```

### 2.7 æ ¹æ®æ ‡ç­¾æŸ¥è¯¢æ–‡ç« 

```http
GET /api/articles/tag/{tagId}
```

### 2.8 æœç´¢æ–‡ç« 

```http
GET /api/articles/search?keyword=å…³é”®è¯
```

### 2.9 å‘å¸ƒæ–‡ç« 

```http
PUT /api/articles/{id}/publish
Authorization: Bearer <token>
```

### 2.10 æ’¤å›æ–‡ç« 

```http
PUT /api/articles/{id}/unpublish
Authorization: Bearer <token>
```

### 2.11 ç½®é¡¶æ–‡ç« 

```http
PUT /api/articles/{id}/top
Authorization: Bearer <token>
```

### 2.12 å–æ¶ˆç½®é¡¶

```http
PUT /api/articles/{id}/untop
Authorization: Bearer <token>
```

### 2.13 è·å–æ–‡ç« æ ‡ç­¾

```http
GET /api/articles/{id}/tags
```

### 2.14 æ·»åŠ æ–‡ç« æ ‡ç­¾

```http
POST /api/articles/{id}/tags
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°ï¼š**

```json
[1, 2, 3]
```

### 2.15 ç§»é™¤æ–‡ç« æ ‡ç­¾

```http
DELETE /api/articles/{id}/tags
Authorization: Bearer <token>
```

### 2.16 è·å–çƒ­é—¨æ–‡ç« 

```http
GET /api/articles/hot?limit=10
```

### 2.17 è·å–æœ€æ–°æ–‡ç« 

```http
GET /api/articles/recent?limit=10
```

### 2.18 è·å–æ¨èæ–‡ç« 

```http
GET /api/articles/recommend?limit=10
```

### 2.19 å¢åŠ æ–‡ç« æµè§ˆé‡

```http
PUT /api/articles/{id}/view
```

### 2.20 æ–‡ç« ç‚¹èµ

```http
PUT /api/articles/{id}/like
```

### 2.21 å–æ¶ˆæ–‡ç« ç‚¹èµ

```http
PUT /api/articles/{id}/unlike
```

## ğŸ·ï¸ 3. åˆ†ç±»ç®¡ç†æ¨¡å— (/api/categories)

### 3.1 åˆ›å»ºåˆ†ç±»

```http
POST /api/categories
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•° (CategoryVO)ï¼š**

```json
{
  "name": "åˆ†ç±»åç§°",
  "description": "åˆ†ç±»æè¿°",
  "icon": "icon-name",
  "parentId": 0,
  "sortOrder": 1
}
```

### 3.2 è·å–åˆ†ç±»è¯¦æƒ…

```http
GET /api/categories/{id}
```

### 3.3 æ›´æ–°åˆ†ç±»

```http
PUT /api/categories/{id}
Authorization: Bearer <token>
```

### 3.4 åˆ é™¤åˆ†ç±»

```http
DELETE /api/categories/{id}
Authorization: Bearer <token>
```

### 3.5 åˆ†é¡µæŸ¥è¯¢åˆ†ç±»

```http
GET /api/categories/page?pageNum=1&pageSize=10
```

### 3.6 è·å–æ‰€æœ‰åˆ†ç±»

```http
GET /api/categories/all
```

### 3.7 æœç´¢åˆ†ç±»

```http
GET /api/categories/search?keyword=æŠ€æœ¯
```

### 3.8 è·å–åˆ†ç±»æ–‡ç« æ•°é‡

```http
GET /api/categories/{id}/articles/count
```

### 3.9 æ‰¹é‡åˆ é™¤åˆ†ç±»

```http
DELETE /api/categories/batch
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°ï¼š**

```json
[1, 2, 3]
```

### 3.10 è·å–çƒ­é—¨åˆ†ç±»

```http
GET /api/categories/hot?limit=10
```

### 3.11 å¯ç”¨åˆ†ç±»

```http
PUT /api/categories/{id}/enable
Authorization: Bearer <token>
```

### 3.12 ç¦ç”¨åˆ†ç±»

```http
PUT /api/categories/{id}/disable
Authorization: Bearer <token>
```

### 3.13 æ£€æŸ¥åˆ†ç±»åç§°

```http
GET /api/categories/check-name?name=åˆ†ç±»å&excludeId=1
```

### 3.14 æ£€æŸ¥åˆ†ç±»è·¯å¾„

```http
GET /api/categories/check-path?path=category-path&excludeId=1
```

### 3.15 è·å–åˆ†ç±»ç»Ÿè®¡

```http
GET /api/categories/statistics
```

## ğŸ·ï¸ 4. æ ‡ç­¾ç®¡ç†æ¨¡å— (/api/tags)

### 4.1 åˆ›å»ºæ ‡ç­¾

```http
POST /api/tags
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•° (TagVO)ï¼š**

```json
{
  "name": "æ ‡ç­¾åç§°",
  "color": "#409eff",
  "description": "æ ‡ç­¾æè¿°"
}
```

### 4.2 è·å–æ ‡ç­¾è¯¦æƒ…

```http
GET /api/tags/{id}
```

### 4.3 æ›´æ–°æ ‡ç­¾

```http
PUT /api/tags/{id}
Authorization: Bearer <token>
```

### 4.4 åˆ é™¤æ ‡ç­¾

```http
DELETE /api/tags/{id}
Authorization: Bearer <token>
```

### 4.5 åˆ†é¡µæŸ¥è¯¢æ ‡ç­¾

```http
GET /api/tags/page?pageNum=1&pageSize=20
```

### 4.6 è·å–æ‰€æœ‰æ ‡ç­¾

```http
GET /api/tags/all
```

### 4.7 æœç´¢æ ‡ç­¾

```http
GET /api/tags/search?keyword=Vue
```

### 4.8 è·å–æ ‡ç­¾æ–‡ç« æ•°é‡

```http
GET /api/tags/{id}/articles/count
```

### 4.9 æ‰¹é‡åˆ é™¤æ ‡ç­¾

```http
DELETE /api/tags/batch
Authorization: Bearer <token>
```

### 4.10 è·å–çƒ­é—¨æ ‡ç­¾

```http
GET /api/tags/hot?limit=10
```

### 4.11 è·å–æ ‡ç­¾äº‘

```http
GET /api/tags/cloud?maxTags=50
```

### 4.12 å¯ç”¨æ ‡ç­¾

```http
PUT /api/tags/{id}/enable
Authorization: Bearer <token>
```

### 4.13 ç¦ç”¨æ ‡ç­¾

```http
PUT /api/tags/{id}/disable
Authorization: Bearer <token>
```

### 4.14 æ£€æŸ¥æ ‡ç­¾åç§°

```http
GET /api/tags/check-name?name=æ ‡ç­¾å&excludeId=1
```

### 4.15 è·å–æ ‡ç­¾ç»Ÿè®¡

```http
GET /api/tags/statistics
```

## ğŸ’¬ 5. è¯„è®ºç³»ç»Ÿæ¨¡å— (/api/comments)

### 5.1 å‘è¡¨è¯„è®º

```http
POST /api/comments
```

**è¯·æ±‚å‚æ•° (CommentCreateVO)ï¼š**

```json
{
  "articleId": 1,
  "parentId": 0,
  "authorName": "è¯„è®ºè€…",
  "authorEmail": "user@example.com",
  "authorWebsite": "https://...",
  "content": "è¯„è®ºå†…å®¹",
  "clientIp": "192.168.1.1",
  "userAgent": "browser-info"
}
```

### 5.2 å›å¤è¯„è®º

```http
POST /api/comments/{parentId}/reply
```

### 5.3 è·å–è¯„è®ºè¯¦æƒ…

```http
GET /api/comments/{id}
```

### 5.4 è·å–æ–‡ç« è¯„è®ºåˆ—è¡¨

```http
GET /api/comments/article/{articleId}?pageNum=1&pageSize=20
```

### 5.5 è·å–æœ€æ–°è¯„è®º

```http
GET /api/comments/recent?limit=10
```

### 5.6 ç‚¹èµè¯„è®º

```http
POST /api/comments/{id}/like
```

### 5.7 åˆ é™¤è¯„è®º

```http
DELETE /api/comments/{id}
Authorization: Bearer <token>
```

### 5.8 æ‰¹é‡åˆ é™¤è¯„è®º

```http
DELETE /api/comments/batch
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°ï¼š**

```json
[1, 2, 3]
```

### 5.9 å®¡æ ¸è¯„è®º

```http
PUT /api/comments/{id}/audit
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°ï¼š**

```
status=1&reason=æ‹’ç»åŸå› 
```

### 5.10 ç½®é¡¶è¯„è®º

```http
PUT /api/comments/{id}/stick
Authorization: Bearer <token>
```

### 5.11 å–æ¶ˆç½®é¡¶è¯„è®º

```http
PUT /api/comments/{id}/unstick
Authorization: Bearer <token>
```

### 5.12 è·å–å¾…å®¡æ ¸è¯„è®º

```http
GET /api/comments/pending?pageNum=1&pageSize=20
Authorization: Bearer <token>
```

### 5.13 æœç´¢è¯„è®º

```http
GET /api/comments/search?keyword=å…³é”®è¯&pageNum=1&pageSize=20
Authorization: Bearer <token>
```

### 5.14 ç®¡ç†ç«¯è·å–è¯„è®ºåˆ—è¡¨

```http
POST /api/comments/admin/list
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•° (PageQueryVO)ï¼š**

```json
{
  "pageNum": 1,
  "pageSize": 20,
  "keyword": "æœç´¢å…³é”®è¯"
}
```

## ğŸ“ 6. æ–‡ä»¶ç®¡ç†æ¨¡å— (/api/files)

### 6.1 æ–‡ä»¶ä¸Šä¼ 

```http
POST /api/files/upload
Authorization: Bearer <token>
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°ï¼š**

```
file: æ–‡ä»¶äºŒè¿›åˆ¶æ•°æ®
fileType: image/document/video/other
```

### 6.2 æ‰¹é‡æ–‡ä»¶ä¸Šä¼ 

```http
POST /api/files/upload/batch
Authorization: Bearer <token>
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°ï¼š**

```
files: æ–‡ä»¶æ•°ç»„
fileType: æ–‡ä»¶ç±»å‹
```

### 6.3 å›¾ç‰‡ä¸Šä¼ 

```http
POST /api/files/upload/image
Authorization: Bearer <token>
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°ï¼š**

```
file: å›¾ç‰‡æ–‡ä»¶
category: å›¾ç‰‡åˆ†ç±»
```

### 6.4 æ–‡ä»¶ä¸‹è½½

```http
GET /api/files/download/{id}
```

### 6.5 è·å–æ–‡ä»¶ä¿¡æ¯

```http
GET /api/files/{id}
```

### 6.6 æ–‡ä»¶é¢„è§ˆ

```http
GET /api/files/preview/{id}
```

### 6.7 è·å–æ–‡ä»¶åˆ—è¡¨

```http
GET /api/files/list?pageNum=1&pageSize=20&fileType=image&keyword=æœç´¢
Authorization: Bearer <token>
```

### 6.8 åˆ é™¤æ–‡ä»¶

```http
DELETE /api/files/{id}
Authorization: Bearer <token>
```

### 6.9 æ‰¹é‡åˆ é™¤æ–‡ä»¶

```http
DELETE /api/files/batch
Authorization: Bearer <token>
```

### 6.10 æ›´æ–°æ–‡ä»¶ä¿¡æ¯

```http
PUT /api/files/{id}?filename=æ–°æ–‡ä»¶å&description=æè¿°
Authorization: Bearer <token>
```

### 6.11 ç®¡ç†å‘˜åˆ†é¡µæŸ¥è¯¢æ–‡ä»¶

```http
GET /api/files/admin/page
Authorization: Bearer <token>
```

### 6.12 ç®¡ç†å‘˜åˆ é™¤æ–‡ä»¶

```http
DELETE /api/files/admin/{id}?reason=åˆ é™¤åŸå› 
Authorization: Bearer <token>
```

### 6.13 è·å–æ–‡ä»¶ç»Ÿè®¡

```http
GET /api/files/admin/statistics
Authorization: Bearer <token>
```

### 6.14 æ¸…ç†æ— æ•ˆæ–‡ä»¶

```http
POST /api/files/admin/cleanup?days=30
Authorization: Bearer <token>
```

### 6.15 è·å–å­˜å‚¨ç©ºé—´ä¿¡æ¯

```http
GET /api/files/admin/storage
Authorization: Bearer <token>
```

### 6.16 æ ¹æ®ç”¨æˆ·IDè·å–æ–‡ä»¶

```http
GET /api/files/user/{userId}?pageNum=1&pageSize=20
```

### 6.17 æ ¹æ®ç±»å‹è·å–æ–‡ä»¶

```http
GET /api/files/type/{fileType}?pageNum=1&pageSize=20
```

### 6.18 æ¢å¤å·²åˆ é™¤æ–‡ä»¶

```http
PUT /api/files/{id}/restore
Authorization: Bearer <token>
```

## ğŸ“ 7. ä¸ƒç‰›äº‘æ–‡ä»¶ä¸Šä¼ æ¨¡å— (/api/file)

### 7.1 ä¸Šä¼ æ–‡ä»¶åˆ°ä¸ƒç‰›äº‘

```http
POST /api/file/upload
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°ï¼š**

```
file: æ–‡ä»¶
module: æ¨¡å—åç§°(é»˜è®¤default)
```

### 7.2 è·å–æ–‡ä»¶è®¿é—®URL

```http
GET /api/file/url/{fileId}
```

### 7.3 åˆ é™¤ä¸ƒç‰›äº‘æ–‡ä»¶

```http
DELETE /api/file/{fileId}
```

### 7.4 ä¸Šä¼ å¤´åƒ

```http
POST /api/file/upload/avatar
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°ï¼š**

```
file: å¤´åƒæ–‡ä»¶(é™åˆ¶2MBï¼Œåªæ”¯æŒå›¾ç‰‡æ ¼å¼)
```

## âš™ï¸ 8. ç³»ç»Ÿé…ç½®æ¨¡å— (/api/config)

### 8.1 åˆ›å»ºç³»ç»Ÿé…ç½®

```http
POST /api/config
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•° (SystemConfigCreateVO)ï¼š**

```json
{
  "configGroup": "website",
  "configKey": "site_name",
  "configValue": "æˆ‘çš„åšå®¢",
  "configName": "ç½‘ç«™åç§°",
  "configDesc": "ç½‘ç«™æ ‡é¢˜",
  "configType": 1
}
```

### 8.2 æ›´æ–°ç³»ç»Ÿé…ç½®

```http
PUT /api/config/{id}
Authorization: Bearer <token>
```

### 8.3 è·å–é…ç½®è¯¦æƒ…

```http
GET /api/config/{id}
Authorization: Bearer <token>
```

### 8.4 æ ¹æ®é…ç½®é”®è·å–é…ç½®å€¼

```http
GET /api/config/value/{configKey}
```

### 8.5 æ ¹æ®é…ç½®é”®æ›´æ–°é…ç½®å€¼

```http
PUT /api/config/value/{configKey}?configValue=æ–°å€¼
Authorization: Bearer <token>
```

### 8.6 åˆ†é¡µæŸ¥è¯¢ç³»ç»Ÿé…ç½®

```http
GET /api/config/page?pageNum=1&pageSize=10&keyword=å…³é”®è¯&category=åˆ†ç±»
Authorization: Bearer <token>
```

### 8.7 è·å–æ‰€æœ‰é…ç½®åˆ†ç±»

```http
GET /api/config/categories
Authorization: Bearer <token>
```

### 8.8 æ ¹æ®åˆ†ç±»è·å–é…ç½®

```http
GET /api/config/category/{category}
Authorization: Bearer <token>
```

### 8.9 æ‰¹é‡æ›´æ–°é…ç½®

```http
POST /api/config/batch
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "site_name": "æ–°ç½‘ç«™åç§°",
  "site_description": "æ–°ç½‘ç«™æè¿°"
}
```

### 8.10 åˆ é™¤ç³»ç»Ÿé…ç½®

```http
DELETE /api/config/{id}
Authorization: Bearer <token>
```

### 8.11 æ‰¹é‡åˆ é™¤é…ç½®

```http
DELETE /api/config/batch
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°ï¼š**

```json
[1, 2, 3]
```

### 8.12 è·å–æ‰€æœ‰é…ç½®

```http
GET /api/config/all
Authorization: Bearer <token>
```

### 8.13 æ ¹æ®åˆ†ç»„è·å–é…ç½®Map

```http
GET /api/config/group/{configGroup}/map
Authorization: Bearer <token>
```

### 8.14 è·å–ç½‘ç«™åŸºæœ¬ä¿¡æ¯

```http
GET /api/config/website/info
```

### 8.15 æ›´æ–°ç½‘ç«™åŸºæœ¬ä¿¡æ¯

```http
PUT /api/config/website/info
Authorization: Bearer <token>
```

### 8.16 åˆ·æ–°é…ç½®ç¼“å­˜

```http
POST /api/config/cache/refresh
Authorization: Bearer <token>
```

### 8.17 æ¸…ç†é…ç½®ç¼“å­˜

```http
POST /api/config/cache/clear
Authorization: Bearer <token>
```

### 8.18 æ›´æ–°é…ç½®çŠ¶æ€

```http
PUT /api/config/{id}/status?status=1
Authorization: Bearer <token>
```

### 8.19 éªŒè¯é…ç½®é”®

```http
GET /api/config/validate/{configKey}
Authorization: Bearer <token>
```

### 8.20 é‡æ–°åŠ è½½é…ç½®

```http
POST /api/config/reload
Authorization: Bearer <token>
```

## ğŸ“Š 9. ç»Ÿè®¡åˆ†ææ¨¡å— (/api/statistics)

### 9.1 è®°å½•è®¿é—®æ—¥å¿—

```http
POST /api/statistics/visit?articleId=1
```

### 9.2 è·å–ç½‘ç«™æ€»è§ˆç»Ÿè®¡

```http
GET /api/statistics/overview
Authorization: Bearer <token>
```

### 9.3 è·å–ä»Šæ—¥è®¿é—®ç»Ÿè®¡

```http
GET /api/statistics/today
Authorization: Bearer <token>
```

### 9.4 è·å–è®¿é—®è¶‹åŠ¿

```http
GET /api/statistics/visits/trend?days=30
Authorization: Bearer <token>
```

### 9.5 è·å–çƒ­é—¨æ–‡ç« ç»Ÿè®¡

```http
GET /api/statistics/articles/hot?limit=10
Authorization: Bearer <token>
```

### 9.6 è·å–æµè§ˆå™¨ç»Ÿè®¡

```http
GET /api/statistics/browser?limit=10
Authorization: Bearer <token>
```

### 9.7 è·å–æ“ä½œç³»ç»Ÿç»Ÿè®¡

```http
GET /api/statistics/os?limit=10
Authorization: Bearer <token>
```

### 9.8 è·å–è®¾å¤‡ç±»å‹ç»Ÿè®¡

```http
GET /api/statistics/device
Authorization: Bearer <token>
```

### 9.9 è·å–åœ°ç†ä½ç½®ç»Ÿè®¡

```http
GET /api/statistics/location?limit=10
Authorization: Bearer <token>
```

### 9.10 è·å–æ¯å°æ—¶è®¿é—®ç»Ÿè®¡

```http
GET /api/statistics/hourly
Authorization: Bearer <token>
```

### 9.11 è·å–çˆ¬è™«è®¿é—®ç»Ÿè®¡

```http
GET /api/statistics/spider
Authorization: Bearer <token>
```

### 9.12 åˆ†é¡µæŸ¥è¯¢è®¿é—®æ—¥å¿—

```http
GET /api/statistics/logs/page?pageNum=1&pageSize=20&keyword=å…³é”®è¯
Authorization: Bearer <token>
```

### 9.13 æ ¹æ®æ–‡ç« æŸ¥è¯¢è®¿é—®æ—¥å¿—

```http
GET /api/statistics/logs/article/{articleId}?pageNum=1&pageSize=20
Authorization: Bearer <token>
```

### 9.14 è·å–å®æ—¶ç»Ÿè®¡

```http
GET /api/statistics/realtime
Authorization: Bearer <token>
```

### 9.15 è·å–åœ¨çº¿ç”¨æˆ·æ•°

```http
GET /api/statistics/online
Authorization: Bearer <token>
```

### 9.16 è·å–ç”¨æˆ·è®¿é—®è·¯å¾„

```http
GET /api/statistics/user/path?visitorIp=192.168.1.1&limit=50
Authorization: Bearer <token>
```

### 9.17 è·å–åœç•™æ—¶é—´ç»Ÿè®¡

```http
GET /api/statistics/stay-time?articleId=1
Authorization: Bearer <token>
```

### 9.18 è·å–ç”¨æˆ·å¿ è¯šåº¦åˆ†æ

```http
GET /api/statistics/user/loyalty
Authorization: Bearer <token>
```

### 9.19 è·å–è®¿é—®æ·±åº¦åˆ†æ

```http
GET /api/statistics/visit/depth
Authorization: Bearer <token>
```

### 9.20 è·å–è®¿é—®æ¥æºç»Ÿè®¡

```http
GET /api/statistics/referer?limit=10
Authorization: Bearer <token>
```

### 9.21 æ¸…ç†è¿‡æœŸè®¿é—®æ—¥å¿—

```http
POST /api/statistics/logs/cleanup?days=90
Authorization: Bearer <token>
```

### 9.22 æ¸…ç†çˆ¬è™«è®¿é—®æ—¥å¿—

```http
POST /api/statistics/logs/cleanup/spider?days=30
Authorization: Bearer <token>
```

### 9.23 è·å–å¯ç–‘IPåˆ—è¡¨

```http
GET /api/statistics/suspicious-ip?limit=20
Authorization: Bearer <token>
```

### 9.24 åˆ·æ–°å®æ—¶ç»Ÿè®¡ç¼“å­˜

```http
POST /api/statistics/cache/refresh
Authorization: Bearer <token>
```

### 9.25 æ›´æ–°è®¿é—®åœç•™æ—¶é—´

```http
PUT /api/statistics/visit/{visitLogId}/stay-time?stayTime=60
Authorization: Bearer <token>
```

## ğŸ“‹ é”™è¯¯ç å®šä¹‰

### HTTP çŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜                     |
| ------ | ------------------------ |
| 200    | è¯·æ±‚æˆåŠŸ                 |
| 201    | åˆ›å»ºæˆåŠŸ                 |
| 400    | è¯·æ±‚å‚æ•°é”™è¯¯             |
| 401    | æœªæˆæƒ/Token æ— æ•ˆ        |
| 403    | ç¦æ­¢è®¿é—®                 |
| 404    | èµ„æºä¸å­˜åœ¨               |
| 409    | èµ„æºå†²çª                 |
| 422    | è¯·æ±‚æ ¼å¼æ­£ç¡®ï¼Œä½†è¯­ä¹‰é”™è¯¯ |
| 500    | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯           |

### è‡ªå®šä¹‰é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜                     |
| ------ | ------------------------ |
| 1001   | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯         |
| 1002   | éªŒè¯ç é”™è¯¯               |
| 1003   | Token å·²è¿‡æœŸ             |
| 1004   | Token æ— æ•ˆ               |
| 2001   | æ–‡ç« ä¸å­˜åœ¨               |
| 2002   | æ–‡ç« å·²åˆ é™¤               |
| 2003   | æ–‡ç« å¯†ç é”™è¯¯             |
| 3001   | åˆ†ç±»ä¸å­˜åœ¨               |
| 3002   | åˆ†ç±»ä¸‹è¿˜æœ‰æ–‡ç« ï¼Œæ— æ³•åˆ é™¤ |
| 4001   | è¯„è®ºä¸å­˜åœ¨               |
| 4002   | è¯„è®ºå·²å…³é—­               |
| 5001   | æ–‡ä»¶ä¸Šä¼ å¤±è´¥             |
| 5002   | æ–‡ä»¶ç±»å‹ä¸æ”¯æŒ           |
| 5003   | æ–‡ä»¶å¤§å°è¶…å‡ºé™åˆ¶         |

## ğŸ“ æ¥å£è°ƒç”¨ç¤ºä¾‹

### JavaScript/Axios ç¤ºä¾‹

```javascript
// è®¾ç½®åŸºç¡€URLå’Œæ‹¦æˆªå™¨
const api = axios.create({
  baseURL: "http://localhost:8080/api",
  timeout: 10000,
});

// è¯·æ±‚æ‹¦æˆªå™¨ - æ·»åŠ Token
api.interceptors.request.use((config) => {
  const token = localStorage.getItem("token");
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// å“åº”æ‹¦æˆªå™¨ - å¤„ç†é”™è¯¯
api.interceptors.response.use(
  (response) => response.data,
  (error) => {
    if (error.response?.status === 401) {
      // Tokenè¿‡æœŸï¼Œè·³è½¬ç™»å½•
      localStorage.removeItem("token");
      window.location.href = "/login";
    }
    return Promise.reject(error);
  }
);

// ä½¿ç”¨ç¤ºä¾‹
// è·å–æ–‡ç« åˆ—è¡¨
const getArticles = async (params) => {
  return await api.get("/articles/page", { params });
};

// åˆ›å»ºæ–‡ç« 
const createArticle = async (data) => {
  return await api.post("/articles", data);
};

// ä¸Šä¼ æ–‡ä»¶
const uploadFile = async (file) => {
  const formData = new FormData();
  formData.append("file", file);
  return await api.post("/files/upload", formData, {
    headers: { "Content-Type": "multipart/form-data" },
  });
};
```

### Vue3 Composition API ç¤ºä¾‹

```javascript
// composables/useAuth.js
import { ref, computed } from 'vue'
import { useRouter } from 'vue-router'
import api from '@/api'

export function useAuth() {
  const user = ref(null)
  const token = ref(localStorage.getItem('token'))
  const router = useRouter()

  const isAuthenticated = computed(() => !!token.value)

  const login = async (credentials) => {
    try {
      const response = await api.post('/auth/login', credentials)
      const { token: newToken, user: userInfo } = response.data
      
      token.value = newToken
      user.value = userInfo
      localStorage.setItem('token', newToken)
      
      return response
    } catch (error) {
      throw error
    }
  }

  const logout = async () => {
    try {
      await api.post('/auth/logout')
    } finally {
      token.value = null
      user.value = null
      localStorage.removeItem('token')
      router.push('/login')
    }
  }

  return {
    user,
    token,
    isAuthenticated,
    login,
    logout
  }
}
```

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### 1. è·¨åŸŸé…ç½®

åœ¨ Spring Boot ä¸­é…ç½® CORSï¼š

```java
@Configuration
public class CorsConfig {
    @Bean
    public CorsFilter corsFilter() {
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        CorsConfiguration config = new CorsConfiguration();
        config.setAllowCredentials(true);
        config.addAllowedOriginPattern("*");
        config.addAllowedHeader("*");
        config.addAllowedMethod("*");
        source.registerCorsConfiguration("/api/**", config);
        return new CorsFilter(source);
    }
}
```

### 2. æ¥å£æ–‡æ¡£é›†æˆ

ä½¿ç”¨ Swagger/OpenAPI ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼š

è®¿é—®åœ°å€ï¼š`http://localhost:8080/swagger-ui/index.html`

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç¼“å­˜ç­–ç•¥

- æ–‡ç« åˆ—è¡¨ç¼“å­˜ï¼ˆRedisï¼Œ5 åˆ†é’Ÿï¼‰
- çƒ­é—¨æ–‡ç« ç¼“å­˜ï¼ˆRedisï¼Œ1 å°æ—¶ï¼‰
- åˆ†ç±»æ ‡ç­¾ç¼“å­˜ï¼ˆRedisï¼Œ30 åˆ†é’Ÿï¼‰
- ç³»ç»Ÿé…ç½®ç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼Œé‡å¯æ›´æ–°ï¼‰

### 2. åˆ†é¡µä¼˜åŒ–

- é»˜è®¤åˆ†é¡µå¤§å°ï¼š10
- æœ€å¤§åˆ†é¡µå¤§å°ï¼š100
- ä½¿ç”¨æ¸¸æ ‡åˆ†é¡µä¼˜åŒ–å¤§æ•°æ®é‡æŸ¥è¯¢

### 3. æ¥å£é™æµ

- ç™»å½•æ¥å£ï¼š5 æ¬¡/åˆ†é’Ÿ
- è¯„è®ºæ¥å£ï¼š10 æ¬¡/åˆ†é’Ÿ
- æ–‡ä»¶ä¸Šä¼ ï¼š2 æ¬¡/åˆ†é’Ÿ
- å…¶ä»–æ¥å£ï¼š100 æ¬¡/åˆ†é’Ÿ

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**åˆ›å»ºæ—¶é—´**: 2024 å¹´  
**ç»´æŠ¤å›¢é˜Ÿ**: åç«¯å¼€å‘ç»„  
**è”ç³»æ–¹å¼**: tech@example.com
